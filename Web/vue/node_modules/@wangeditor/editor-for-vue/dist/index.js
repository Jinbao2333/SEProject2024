var v=Object.defineProperty,M=Object.defineProperties;var H=Object.getOwnPropertyDescriptors;var E=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable;var C=(n,t,l)=>t in n?v(n,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):n[t]=l,w=(n,t)=>{for(var l in t||(t={}))O.call(t,l)&&C(n,l,t[l]);if(E)for(var l of E(t))P.call(t,l)&&C(n,l,t[l]);return n},y=(n,t)=>M(n,H(t));(function(n,t){typeof exports=="object"&&typeof module!="undefined"?t(exports,require("vue"),require("@wangeditor/editor")):typeof define=="function"&&define.amd?define(["exports","vue","@wangeditor/editor"],t):(n=typeof globalThis!="undefined"?globalThis:n||self,t(n.WangEditorForVue={},n.Vue,n.editor))})(this,function(n,t,l){"use strict";function a(o){let r=`\u8BF7\u4F7F\u7528 '@${o}' \u4E8B\u4EF6\uFF0C\u4E0D\u8981\u653E\u5728 props \u4E2D`;return r+=`
Please use '@${o}' event instead of props`,r}var h=(o,r)=>{for(const[f,u]of r)o[f]=u;return o};const _=t.defineComponent({props:{mode:{type:String,default:"default"},defaultContent:{type:Array,default:[]},defaultHtml:{type:String,default:""},defaultConfig:{type:Object,default:{}},modelValue:{type:String,default:""}},setup(o,r){const f=t.ref(null),u=t.shallowRef(null),m=t.ref(""),g=()=>{if(!f.value)return;const s=t.toRaw(o.defaultContent);l.createEditor({selector:f.value,mode:o.mode,content:s||[],html:o.defaultHtml||o.modelValue||"",config:y(w({},o.defaultConfig),{onCreated(e){if(u.value=e,r.emit("onCreated",e),o.defaultConfig.onCreated){const i=a("onCreated");throw new Error(i)}},onChange(e){const i=e.getHtml();if(m.value=i,r.emit("update:modelValue",i),r.emit("onChange",e),o.defaultConfig.onChange){const d=a("onChange");throw new Error(d)}},onDestroyed(e){if(r.emit("onDestroyed",e),o.defaultConfig.onDestroyed){const i=a("onDestroyed");throw new Error(i)}},onMaxLength(e){if(r.emit("onMaxLength",e),o.defaultConfig.onMaxLength){const i=a("onMaxLength");throw new Error(i)}},onFocus(e){if(r.emit("onFocus",e),o.defaultConfig.onFocus){const i=a("onFocus");throw new Error(i)}},onBlur(e){if(r.emit("onBlur",e),o.defaultConfig.onBlur){const i=a("onBlur");throw new Error(i)}},customAlert(e,i){if(r.emit("customAlert",e,i),o.defaultConfig.customAlert){const d=a("customAlert");throw new Error(d)}},customPaste:(e,i)=>{if(o.defaultConfig.customPaste){const c=a("customPaste");throw new Error(c)}let d;return r.emit("customPaste",e,i,c=>{d=c}),d}})})};function T(s){const e=u.value;if(e==null)return;const i=e.isDisabled(),d=e.isFocused(),c=JSON.stringify(e.selection);if(e.enable(),e.focus(),e.select([]),e.deleteFragment(),l.SlateTransforms.setNodes(e,{type:"paragraph"},{mode:"highest"}),e.dangerouslyInsertHtml(s),d||(e.deselect(),e.blur()),i&&(e.deselect(),e.disable()),e.isFocused())try{e.select(JSON.parse(c))}catch{e.select(l.SlateEditor.start(e,[]))}}return t.onMounted(()=>{g()}),t.watch(()=>o.modelValue,s=>{s!==m.value&&T(s)}),{box:f}}}),b={ref:"box",style:{height:"100%"}};function F(o,r,f,u,m,g){return t.openBlock(),t.createElementBlock("div",b,null,512)}var p=h(_,[["render",F]]);const S=t.defineComponent({props:{editor:{type:Object},mode:{type:String,default:"default"},defaultConfig:{type:Object,default:{}}},setup(o){const r=t.ref(null),f=u=>{if(!!r.value){if(u==null)throw new Error("Not found instance of Editor when create <Toolbar/> component");l.DomEditor.getToolbar(u)||l.createToolbar({editor:u,selector:r.value||"<div></div>",mode:o.mode,config:o.defaultConfig})}};return t.watchEffect(()=>{const{editor:u}=o;u!=null&&f(u)}),{selector:r}}}),$={ref:"selector"};function B(o,r,f,u,m,g){return t.openBlock(),t.createElementBlock("div",$,null,512)}var D=h(S,[["render",B]]);n.Editor=p,n.Toolbar=D,Object.defineProperty(n,"__esModule",{value:!0}),n[Symbol.toStringTag]="Module"});
//# sourceMappingURL=index.js.map

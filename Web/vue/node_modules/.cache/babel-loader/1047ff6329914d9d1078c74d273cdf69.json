{"remainingRequest":"D:\\2023\\BearPi\\paper\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\2023\\BearPi\\paper\\vue\\src\\utils\\permission.js","dependencies":[{"path":"D:\\2023\\BearPi\\paper\\vue\\src\\utils\\permission.js","mtime":1673340330000},{"path":"D:\\2023\\BearPi\\paper\\vue\\node_modules\\@vue\\cli-plugin-babel\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\2023\\BearPi\\paper\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCByb3V0ZXIgZnJvbSAiQC9yb3V0ZXIiOwppbXBvcnQgTGF5b3V0IGZyb20gIkAvbGF5b3V0L0xheW91dCI7IC8vIOazqOaEj++8mui/meS4quaWh+S7tuaYr+iuvue9ruWKqOaAgei3r+eUseeahAovLyBwZXJtaXNzaW9uc+aYr+S4gOS4qui1hOa6kOeahOaVsOe7hAoKZXhwb3J0IGZ1bmN0aW9uIGFjdGl2ZVJvdXRlcigpIHsKICB2YXIgdXNlclN0ciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXJQZXJtaXNzaW9uIik7CgogIGlmICh1c2VyU3RyKSB7CiAgICB2YXIgdXNlciA9IEpTT04ucGFyc2UodXNlclN0cik7CiAgICB2YXIgcm9vdCA9IHsKICAgICAgcGF0aDogJy8nLAogICAgICBuYW1lOiAnTGF5b3V0JywKICAgICAgY29tcG9uZW50OiBMYXlvdXQsCiAgICAgIHJlZGlyZWN0OiAiL2hvbWUiLAogICAgICBjaGlsZHJlbjogW10KICAgIH07CiAgICB1c2VyLmZvckVhY2goZnVuY3Rpb24gKHApIHsKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICBwYXRoOiBwLnBhdGgsCiAgICAgICAgbmFtZTogcC5uYW1lLAogICAgICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICAgICAgcmV0dXJuIGltcG9ydCgiQC92aWV3cy8iICsgcC5uYW1lKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJvb3QuY2hpbGRyZW4ucHVzaChvYmopOwogICAgfSk7CgogICAgaWYgKHJvdXRlcikgewogICAgICByb3V0ZXIuYWRkUm91dGUocm9vdCk7CiAgICB9CiAgfQp9"},{"version":3,"sources":["D:/2023/BearPi/paper/vue/src/utils/permission.js"],"names":["router","Layout","activeRouter","userStr","sessionStorage","getItem","user","JSON","parse","root","path","name","component","redirect","children","forEach","p","obj","push","addRoute"],"mappings":";;;;;AAAA,OAAOA,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,iBAAnB,C,CAEA;AACA;;AACA,OAAO,SAASC,YAAT,GAAwB;AAC3B,MAAMC,OAAO,GAAGC,cAAc,CAACC,OAAf,CAAuB,gBAAvB,CAAhB;;AACA,MAAIF,OAAJ,EAAa;AACT,QAAMG,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,OAAX,CAAb;AACA,QAAIM,IAAI,GAAG;AACPC,MAAAA,IAAI,EAAE,GADC;AAEPC,MAAAA,IAAI,EAAE,QAFC;AAGPC,MAAAA,SAAS,EAAEX,MAHJ;AAIPY,MAAAA,QAAQ,EAAE,OAJH;AAKPC,MAAAA,QAAQ,EAAE;AALH,KAAX;AAOAR,IAAAA,IAAI,CAACS,OAAL,CAAa,UAAAC,CAAC,EAAI;AACd,UAAIC,GAAG,GAAG;AACNP,QAAAA,IAAI,EAAEM,CAAC,CAACN,IADF;AAENC,QAAAA,IAAI,EAAEK,CAAC,CAACL,IAFF;AAGNC,QAAAA,SAAS,EAAE;AAAA,iBAAM,OAAO,aAAaI,CAAC,CAACL,IAAtB,CAAN;AAAA;AAHL,OAAV;AAKAF,MAAAA,IAAI,CAACK,QAAL,CAAcI,IAAd,CAAmBD,GAAnB;AACH,KAPD;;AAQA,QAAIjB,MAAJ,EAAY;AACRA,MAAAA,MAAM,CAACmB,QAAP,CAAgBV,IAAhB;AACH;AACJ;AACJ","sourcesContent":["import router from \"@/router\";\nimport Layout from \"@/layout/Layout\";\n\n// 注意：这个文件是设置动态路由的\n// permissions是一个资源的数组\nexport function activeRouter() {\n    const userStr = sessionStorage.getItem(\"userPermission\")\n    if (userStr) {\n        const user = JSON.parse(userStr)\n        let root = {\n            path: '/',\n            name: 'Layout',\n            component: Layout,\n            redirect: \"/home\",\n            children: []\n        }\n        user.forEach(p => {\n            let obj = {\n                path: p.path,\n                name: p.name,\n                component: () => import(\"@/views/\" + p.name)\n            };\n            root.children.push(obj)\n        })\n        if (router) {\n            router.addRoute(root)\n        }\n    }\n}\n\n\n"]}]}
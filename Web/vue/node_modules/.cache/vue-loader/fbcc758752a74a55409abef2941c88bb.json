{"remainingRequest":"/Users/linto/Documents/EasyReach/Web/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/linto/Documents/EasyReach/Web/vue/src/views/PaperList.vue?vue&type=template&id=6f9a2280","dependencies":[{"path":"/Users/linto/Documents/EasyReach/Web/vue/src/views/PaperList.vue","mtime":1720424447118},{"path":"/Users/linto/Documents/EasyReach/Web/vue/node_modules/@vue/cli-plugin-babel/node_modules/cache-loader/dist/cjs.js","mtime":1720424444320},{"path":"/Users/linto/Documents/EasyReach/Web/vue/node_modules/babel-loader/lib/index.js","mtime":1720424444550},{"path":"/Users/linto/Documents/EasyReach/Web/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1720424444365},{"path":"/Users/linto/Documents/EasyReach/Web/vue/node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js","mtime":1720424444334},{"path":"/Users/linto/Documents/EasyReach/Web/vue/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":1720424444364}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBzdHlsZT0icGFkZGluZzogMTBweCI+CiAgICA8ZWwtYnJlYWRjcnVtYiBzZXBhcmF0b3I9Ii8iPgogICAgICA8ZWwtYnJlYWRjcnVtYi1pdGVtIDp0bz0ieyBwYXRoOiAnL2NhdGVnb3J5JyB9Ij7mtY/op4g8L2VsLWJyZWFkY3J1bWItaXRlbT4KICAgICAgPGVsLWJyZWFkY3J1bWItaXRlbT57e2ZpZWxkX25hbWV9fTwvZWwtYnJlYWRjcnVtYi1pdGVtPgogICAgPC9lbC1icmVhZGNydW1iPgogICAgPGVsLXRhYmxlCiAgICAgICAgdi1sb2FkaW5nPSJsb2FkaW5nIgogICAgICAgIDpkYXRhPSJ0YWJsZURhdGEiCiAgICAgICAgYm9yZGVyCiAgICAgICAgc3RyaXBlCiAgICAgICAgc3R5bGU9IndpZHRoOiAxMTAwcHg7bWFyZ2luLXRvcDogMTBweDsiPgogICAgICA8ZWwtdGFibGUtY29sdW1uCiAgICAgICAgICBwcm9wPSJ0aXRsZSIKICAgICAgICAgIGxhYmVsPSLmoIfpopgiCiAgICAgID4KICAgICAgPC9lbC10YWJsZS1jb2x1bW4+CiAgICAgIDxlbC10YWJsZS1jb2x1bW4KICAgICAgICAgIHByb3A9ImF1dGhvcnMiCiAgICAgICAgICBsYWJlbD0i5aeT5ZCNIj4KICAgICAgPC9lbC10YWJsZS1jb2x1bW4+CgogICAgICA8ZWwtdGFibGUtY29sdW1uCiAgICAgICAgICBwcm9wPSJkYXRlIgogICAgICAgICAgbGFiZWw9IuaXpeacnyI+CiAgICAgIDwvZWwtdGFibGUtY29sdW1uPgogICAgICA8ZWwtdGFibGUtY29sdW1uIGxhYmVsPSLmk43kvZwiID4KICAgICAgICA8dGVtcGxhdGUgI2RlZmF1bHQ9InNjb3BlIj4KICAgICAgICAgIDxlbC1idXR0b24gc2l6ZT0ibWluaSIgdHlwZT0icHJpbWFyeSIgQGNsaWNrPSJzZWVEZXRhaWwoc2NvcGUucm93KSI+6K+m5oOFPC9lbC1idXR0b24+CiAgICAgICAgICA8ZWwtYnV0dG9uIHNpemU9Im1pbmkiIEBjbGljaz0iZGVsZXRlUGFwZXIoc2NvcGUucm93KSIgPuWIoOmZpDwvZWwtYnV0dG9uPgogICAgICAgIDwvdGVtcGxhdGU+CiAgICAgIDwvZWwtdGFibGUtY29sdW1uPgogICAgPC9lbC10YWJsZT4KCiAgICA8ZGl2IHN0eWxlPSJtYXJnaW46IDEwcHggMCI+CiAgICAgIDxlbC1wYWdpbmF0aW9uCiAgICAgICAgICBAc2l6ZS1jaGFuZ2U9ImhhbmRsZVNpemVDaGFuZ2UiCiAgICAgICAgICBAY3VycmVudC1jaGFuZ2U9ImhhbmRsZUN1cnJlbnRDaGFuZ2UiCiAgICAgICAgICA6Y3VycmVudC1wYWdlPSJjdXJyZW50UGFnZSIKICAgICAgICAgIDpwYWdlLXNpemVzPSJbMSwzLDUsIDEwLCAyMF0iCiAgICAgICAgICA6cGFnZS1zaXplPSJwYWdlU2l6ZSIKICAgICAgICAgIGxheW91dD0idG90YWwsIHNpemVzLCBwcmV2LCBwYWdlciwgbmV4dCwganVtcGVyIgogICAgICAgICAgOnRvdGFsPSJ0b3RhbCI+CiAgICAgIDwvZWwtcGFnaW5hdGlvbj4KICAgIDwvZGl2PgoKICA8L2Rpdj4K"},{"version":3,"sources":["/Users/linto/Documents/EasyReach/Web/vue/src/views/PaperList.vue"],"names":[],"mappings":"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C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACxB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACjF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;IAEV,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC1B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;UAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAC/C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/linto/Documents/EasyReach/Web/vue/src/views/PaperList.vue","sourceRoot":"","sourcesContent":["<template>\n  <div style=\"padding: 10px\">\n    <el-breadcrumb separator=\"/\">\n      <el-breadcrumb-item :to=\"{ path: '/category' }\">浏览</el-breadcrumb-item>\n      <el-breadcrumb-item>{{field_name}}</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-table\n        v-loading=\"loading\"\n        :data=\"tableData\"\n        border\n        stripe\n        style=\"width: 1100px;margin-top: 10px;\">\n      <el-table-column\n          prop=\"title\"\n          label=\"标题\"\n      >\n      </el-table-column>\n      <el-table-column\n          prop=\"authors\"\n          label=\"姓名\">\n      </el-table-column>\n\n      <el-table-column\n          prop=\"date\"\n          label=\"日期\">\n      </el-table-column>\n      <el-table-column label=\"操作\" >\n        <template #default=\"scope\">\n          <el-button size=\"mini\" type=\"primary\" @click=\"seeDetail(scope.row)\">详情</el-button>\n          <el-button size=\"mini\" @click=\"deletePaper(scope.row)\" >删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[1,3,5, 10, 20]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n      </el-pagination>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n\nimport request from \"@/utils/request\";\nimport comment from \"@/components/Comment\";\nexport default {\n  name: 'Role',\n  components: {\n    comment\n  },\n  inject:['reload'],\n  data() {\n    return {\n\n      loading: true,\n      field_id:'',\n      paper_id:'',\n      user_id:'',\n      field_name:'',\n      form: {},\n      dialogVisible: false,\n      bookVis: false,\n      search: '',\n      currentPage: 1,\n      showtype:'',\n      pageSize: 10,\n      total: 0,\n      totalPage:1,\n      tableData: [],\n    }\n  },\n  created() {\n    this.showtype = this.$route.query.showtype\n    if (this.showtype === '0'){\n      this.field_id = this.$route.query.field_id\n      this.field_name = this.$route.query.field_name\n    }else if (this.showtype === '1'){\n\n      this.user_id = this.$route.query.user_id\n    }\n\n    this.load()\n\n    //this.setCurrentPageData()\n  },\n  methods: {\n    load() {\n      this.loading = true\n      console.log(\"okNow\")\n      let page_no = this.currentPage-1\n      if (this.showtype === '0'){\n        request.post(\"/api/findpaperbyfield?field_id=\"+this.field_id+\"&page_no=\"+page_no +\"&page_size=\"+this.pageSize).then(res => {\n          if (res.code === 0){\n            this.tableData = res.data[1]\n            this.total = res.data[0]\n          }\n        })\n      }else if(this.showtype === '1'){\n        request.post(\"/api/findpaperbyuser?user_id=\"+this.user_id+\"&page_no=\"+page_no+\"&page_size=\"+this.pageSize).then(res => {\n          if (res.code === 0) {\n            this.tableData = res.data[1]\n            this.total = res.data[0]\n          }\n        })\n      }\n\n      this.loading = false\n\n    },\n\n    seeDetail(row) {\n      this.$router.push({path: '/detail',query:{paper_id:row.paper_id }})\n\n    },\n    deletePaper(row) {\n      let user = JSON.parse(window.sessionStorage.getItem('user'));\n      let user_id = parseInt(user.user_id);\n      console.log(user_id)\n      request.post(\"/api/paper/delete?paper_id=\" + row.paper_id + \"&user_id=\" + user_id).then(res => {\n        if (res.code === 0) {\n          this.$message({\n            duration: 700,\n            type: \"success\",\n            message: \"删除成功\"\n          })\n          location.reload();\n        } else {\n          this.$message({\n            duration: 1000,\n            type: \"error\",\n            message: \"该日志无法删除\"\n          })\n        }\n      })\n    },\n    handleSizeChange(pageSize) {   // 改变当前每页的个数触发\n      this.pageSize = pageSize\n      this.load()\n    },\n    handleCurrentChange(pageNum) {  // 改变当前页码触发\n      this.currentPage = pageNum\n      this.load()\n    }\n  }\n}\n</script>\n"]}]}